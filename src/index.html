<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>small sample statistics</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.css"
      integrity="sha256-sxzrkOPuwljiVGWbxViPJ14ZewXLJHFJDn0bv+5hsDY="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="index.css" type="text/css">
  </head>
  <body class='main'>
    <h1>Small Sample Statistics</h1>

    <div class="toleranceInput">
      <div>
        Min: <output></output>
        <input class="toleranceInput__slider" name="min" value="40" type="range">
      </div> <div>
        Max: <output></output>
        <input class="toleranceInput__slider" name="max" value="60" type="range">
      </div> <div>
        Percent: <output></output>%
        <input class="toleranceInput__slider" name="percent" value="50" type="range">
      </div>
    </div>

    
    <canvas class="toleranceArea"></canvas>

    <svg class="sampleInput">
      <rect class="sampleInput__tolerance"></rect>
    </svg>

    <div>
      Samples: <span class="samples">(none)</span>
    </div>


    <table class="statistics">
      <tr>
        <th>Count</th><th>Mean</th><th>Variance</th>
      </tr><tr>
        <td class="statistics__count">0</td>
        <td class="statistics__mean">N/A</td>
        <td class="statistics__variance">N/A</td>
      </tr>
    </table>

    <div>
      Let's assume this follows a normal distribution
      with two parameters: mean (µ) and variance (σ).
      <p>
      <small>FIXME: update this to assume log-normal distribution</small>
    </div>

    <div>
      Given the above samples, the probability distribution of our mean looks like so:
      (assuming that the sample variance estimates the population mean)

      <canvas class="meanCDF"></canvas>
    </div>

    <div>
      ... and the probability distribution of the variance is:
      (assuming that the sample mean estimates the population mean)

      <canvas class="varianceCDF">
      TODO: CDF of the variance
      </canvas>
    </div>

    <div>
      But we don't need to make these assumptions! Thanks to Cochran, we know
      that the mean and variance are independant random variables, so we can form
      a joint distribution, varying on both:

      <canvas class="jointCDF">
      TODO: joint CDF (mean, variance)
      </canvas>
    </div>


    <div>
      TODO: Finally, integrate the tolerance area of the joint distribution,
      and decide on pass/fail/more.
    </div>
    
    <!-- a vanilla-js helper
    <script
      async
      src="//cdnjs.cloudflare.com/ajax/libs/blissfuljs/1.0.4/bliss.js"
      integrity="sha256-o+7aCmzPXjZyeqM+Zz6UmSeVJQeLCRE0mOOfG768WUg="
      crossorigin="anonymous"
    ></script>
    -->

    <script
      async
      src="https://cdnjs.cloudflare.com/ajax/libs/jstat/1.7.0/jstat.js"
      integrity="sha256-8WGYjRG7sdAlqYmKUjSWSBU89P1RxeeFTlsh2jEyp/o="
      crossorigin="anonymous"
    ></script>
    <!-- for plotting the 3d pdf https://plot.ly/javascript/3d-charts/
    <script async src="https://cdn.plot.ly/plotly-1.29.0.js"></script>
    -->
    <script async src="index.js"></script>
  </body>
</html>
