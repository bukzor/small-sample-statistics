<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>small sample statistics</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.css"
      integrity="sha256-sxzrkOPuwljiVGWbxViPJ14ZewXLJHFJDn0bv+5hsDY="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="index.css" type="text/css">
  </head>
  <body class='main'>
    <h1>Small Sample Statistics</h1>

    <div class="toleranceInput">
      <div>
        Min: <output></output>
        <input class="toleranceInput__slider" name="min" value="40" type="range">
      </div> <div>
        Max: <output></output>
        <input class="toleranceInput__slider" name="max" value="60" type="range">
      </div> <div>
        Percent: <output></output>%
        <input class="toleranceInput__slider" name="percent" value="50" type="range">
      </div>
    </div>

    <p>
    The below heatmap represents the set of acceptable log-normal distributions.
    The x-axis is the mean, and y-axis is std-deviation/mean.
    
    <canvas class="toleranceArea"></canvas>

    <svg class="sampleInput">
      <rect class="sampleInput__tolerance"></rect>
    </svg>

    <div>
      Samples: <span class="samples">(none)</span>
    </div>


    <table class="statistics">
      <tr>
        <th>Count</th><th>Mean</th><th>Variance</th>
      </tr><tr>
        <td class="statistics__count">0</td>
        <td class="statistics__mean">N/A</td>
        <td class="statistics__variance">N/A</td>
      </tr>
    </table>

    <p>
    Let's assume this follows a normal distribution
    with two parameters: mean (µ) and variance (σ).

    <p>
    Given the above samples, the probability distribution of our mean looks like so:

    <canvas class="meanCDF">
      CDF of the mean
    </canvas>

    <p>
    ... and the probability distribution of the variance is:

    <canvas class="standardDeviationCDF">
      CDF of the variance
    </canvas>

    <p>
    Thanks to Cochran, we know
    that the mean and variance are independant random variables, so we can form
    a joint distribution, varying on both:

    <canvas class="jointCDF">
    TODO: joint CDF (mean, variance)
    </canvas>


    <p>
    TODO: Finally, integrate the tolerance area of the joint distribution,
    and decide on pass/fail/more.
    
    <script
      async
      src="https://cdnjs.cloudflare.com/ajax/libs/jstat/1.7.0/jstat.js"
      integrity="sha256-8WGYjRG7sdAlqYmKUjSWSBU89P1RxeeFTlsh2jEyp/o="
      crossorigin="anonymous"
    ></script>
    <script async src="index.js"></script>
  </body>
</html>
